# ü§ñ Telegram Terminal Bot

–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º —á–µ—Ä–µ–∑ Telegram —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ —Å–∏—Å—Ç–µ–º–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** - —Å–æ–∑–¥–∞–π—Ç–µ `.env`:
```bash
BOT_TOKEN=your_telegram_bot_token
ALLOWED_CHAT_ID=your_telegram_chat_id
```

2. **–ó–∞–ø—É—Å–∫**:
```bash
./start.sh
```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –≤ Telegram

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ security.py         # –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ logger.py           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ metrics.py          # –ú–µ—Ç—Ä–∏–∫–∏
‚îú‚îÄ‚îÄ history.py          # –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ notifications.py    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ text_utils.py       # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
‚îú‚îÄ‚îÄ start.sh            # –ó–∞–ø—É—Å–∫
‚îú‚îÄ‚îÄ setup_autostart.sh  # –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
‚îî‚îÄ‚îÄ stop_bot.sh         # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```

## ‚å®Ô∏è –ö–æ–º–∞–Ω–¥—ã

- **/start** - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- **/send <–∫–æ–º–∞–Ω–¥–∞>** - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- **/confirm <–∫–æ–º–∞–Ω–¥–∞>** - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –∫–æ–º–∞–Ω–¥—É
- **/tail [n]** - –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–≥–æ–≤
- **/screenshot** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ tmux
- **/status** - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- **/stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **/history** - –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥
- **/search <–∑–∞–ø—Ä–æ—Å>** - –ø–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏
- **/buttons** - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- **/session <list|current|new|switch|kill|rename>** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ tmux —Å–µ—Å—Å–∏—è–º–∏
- **/health** - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–æ—Ç–∞

## üß≠ Tmux —Å–µ—Å—Å–∏–∏

- **/session list** - —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
- **/session current** - —Ç–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è
- **/session new <name>** - —Å–æ–∑–¥–∞—Ç—å –∏ –≤—ã–±—Ä–∞—Ç—å
- **/session switch <name>** - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å
- **/session kill <name>** - —É–¥–∞–ª–∏—Ç—å
- **/session rename <old> <new>** - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å

–ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `.env` –∏ `data/state.json`.

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (ENV)

–ú–∏–Ω–∏–º—É–º:
```bash
BOT_TOKEN=your_telegram_bot_token
ALLOWED_CHAT_ID=your_telegram_chat_id
```

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:
```bash
TMUX_SESSION=claude
COMMAND_TIMEOUT=30

TELEGRAM_CONNECT_TIMEOUT=20
TELEGRAM_READ_TIMEOUT=30
TELEGRAM_WRITE_TIMEOUT=30
TELEGRAM_POOL_TIMEOUT=10

RETRY_MAX=10
RETRY_BASE_DELAY=5
RETRY_MAX_DELAY=60
```

## üîß –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫

```bash
# SystemD (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./setup_autostart.sh

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
sudo systemctl start/stop/status telegram-terminal-bot
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ chat_id
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

## üìä –õ–æ–≥–∏

- `logs/bot.log` - –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏
- `logs/<session>_terminal.log` - —Ç–µ—Ä–º–∏–Ω–∞–ª (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç tmux —Å–µ—Å—Å–∏–∏)
- `logs/command_history.json` - –∏—Å—Ç–æ—Ä–∏—è
- `logs/metrics.json` - –º–µ—Ç—Ä–∏–∫–∏

---
**‚ö° –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!** –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –≤ Telegram.
